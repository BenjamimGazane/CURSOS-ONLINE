<!DOCTYPE html>
<html lang="pt-MZ">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detalhes do Curso</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background: linear-gradient(135deg, #E0D7FF 0%, #F9F9FF 100%);
      min-height: 100vh;
    }
    .course-image {
      height: 300px;
      object-fit: cover;
      border-radius: 0.5rem;
      box-shadow: 0 0 15px rgb(138 43 226 / 0.2);
    }
    .price {
      font-size: 1.5rem;
      font-weight: 700;
      color: #6f42c1;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold text-primary" href="index.html">EDIC</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="#">Início</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Categorias</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Sobre</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Contato</a></li>
      </ul>
      <form class="d-flex me-3">
        <input class="form-control" type="search" placeholder="Buscar cursos">
      </form>
      <a href="login.html" class="btn btn-outline-primary me-2">Entrar</a>
      <a href="cadastro.html" class="btn btn-primary">Cadastrar</a>
    </div>
  </div>
</nav>

  <main class="container py-5">
  <div class="row">
    <div class="col-md-6 mb-4">
      <img id="course-image" src="" alt="Imagem do curso" class="course-image w-100" />
    </div>
    <div class="col-md-6 d-flex flex-column">
      <h2 id="course-title" class="mb-2"></h2>

      <div>
        <span id="badge-free" class="badge bg-success me-2" style="display:none;">Gratuito</span>
        <span id="badge-new" class="badge bg-primary me-2" style="display:none;">Novo</span>
      </div>

      <p class="text-muted text-capitalize mb-1" id="course-category"></p>

      <div class="d-flex align-items-center mb-3">
        <span class="text-warning me-3">
          <i class="fas fa-star"></i> <span id="course-rating"></span>
        </span>
        <small class="text-muted me-3" id="course-students"></small>
        <small class="text-muted me-3" id="course-reviews"></small>
        <small class="text-muted">Duração: <span id="course-duration"></span> horas</small>
      </div>

      <div class="mb-3">
        <strong>Professor(es): </strong><span id="course-instructor"></span>
      </div>

      <p class="price mb-4" id="course-price"></p>

      <p id="course-description" class="flex-grow-1"></p>

      <div class="d-flex gap-3 mb-3">
        <button class="btn btn-outline-secondary" id="btn-favorite" title="Favoritar">
          <i class="far fa-heart"></i> Favoritar
        </button>
        <button class="btn btn-outline-secondary" id="btn-share" title="Compartilhar">
          <i class="fas fa-share-alt"></i> Compartilhar
        </button>
      </div>

      <a href="login.html" class="btn btn-primary btn-lg mt-auto">Acessar Curso</a>
    </div>
  </div>
</main>

  <!-- Comentarios-->
  <section class="container py-5">
  <h3 class="mb-4">Comentários dos Alunos</h3>
  
  <div id="comments-list" class="mb-4">
    <!-- Comentários carregados via JS -->
  </div>

  <div class="card p-4 shadow-sm">
    <h5>Deixe seu comentário</h5>
    <form id="comment-form">
      <div class="mb-3">
        <input type="text" class="form-control" id="commenter-name" placeholder="Seu nome" required>
      </div>
      <div class="mb-3">
        <textarea class="form-control" id="comment-text" rows="3" placeholder="Escreva seu comentário" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Enviar Comentário</button>
    </form>
  </div>
</section>

  <!-- Rodape' -->
 <footer class="bg-light text-center text-lg-start mt-5 border-top">
  <div class="container p-4">
    <div class="row">

      <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
        <h5 class="text-primary fw-bold">EDIC</h5>
        <p class="text-muted">
          Plataforma de cursos online para você aprender no seu ritmo, com acesso vitalício e suporte especializado.
        </p>
      </div>

      <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
        <h6 class="text-uppercase fw-bold mb-3">Links Úteis</h6>
        <ul class="list-unstyled">
          <li><a href="#" class="text-muted text-decoration-none">Início</a></li>
          <li><a href="#" class="text-muted text-decoration-none">Cursos</a></li>
          <li><a href="#" class="text-muted text-decoration-none">Sobre</a></li>
          <li><a href="#" class="text-muted text-decoration-none">Contato</a></li>
        </ul>
      </div>

      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <h6 class="text-uppercase fw-bold mb-3">Contato</h6>
        <p class="text-muted mb-1">Email: suporte@cursosonline.com</p>
        <p class="text-muted mb-1">Telefone: +258 84 123 4567</p>
        <p class="text-muted">Endereço: Av. Eduardo Mondlane, Maputo, Moçambique</p>
      </div>

      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <h6 class="text-uppercase fw-bold mb-3">Redes Sociais</h6>
        <a href="#" class="me-3 text-muted fs-5"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="me-3 text-muted fs-5"><i class="fab fa-twitter"></i></a>
        <a href="#" class="me-3 text-muted fs-5"><i class="fab fa-instagram"></i></a>
        <a href="#" class="text-muted fs-5"><i class="fab fa-linkedin-in"></i></a>
      </div>

    </div>
  </div>

  <div class="text-center p-3 bg-white border-top" style="font-size: 0.9rem;">
    © 2025 EDIC. Todos os direitos reservados.
  </div>
</footer>

  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Carrega dados do curso do localStorage
    const course = JSON.parse(localStorage.getItem('selectedCourse'));

    if (!course) {
      document.body.innerHTML = '<div class="container py-5 text-center"><h2>Curso não encontrado.</h2><a href="index.html" class="btn btn-primary mt-3">Voltar</a></div>';
    } else {
      document.getElementById('course-image').src = course.image;
      document.getElementById('course-title').innerText = course.title;
      document.getElementById('course-category').innerText = course.category;
      document.getElementById('course-rating').innerText = course.rating.toFixed(1);
      document.getElementById('course-students').innerText = `${course.total_students} alunos`;
      document.getElementById('course-duration').innerText = course.duration_hours;
      document.getElementById('course-price').innerText = course.price_usd === 0 ? 'Gratuito' : `MZN ${(course.price_usd * 64).toLocaleString()}`;
      document.getElementById('course-description').innerText = course.description || "Descrição detalhada do curso não disponível.";
    }

    const commentsList = document.getElementById('comments-list');
const commentForm = document.getElementById('comment-form');

let comments = JSON.parse(localStorage.getItem('courseComments')) || [];

function renderComments() {
  if (comments.length === 0) {
    commentsList.innerHTML = '<p class="text-muted">Nenhum comentário ainda. Seja o primeiro!</p>';
    return;
  }

  commentsList.innerHTML = comments.map(c => `
    <div class="mb-3 p-3 border rounded">
      <strong>${c.name}</strong>
      <p>${c.text}</p>
    </div>
  `).join('');
}

commentForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const name = document.getElementById('commenter-name').value.trim();
  const text = document.getElementById('comment-text').value.trim();
  if (!name || !text) return;

  comments.push({ name, text });
  localStorage.setItem('courseComments', JSON.stringify(comments));

  renderComments();

  commentForm.reset();
});

// Inicializa comentários ao carregar página
renderComments();

  </script>
</body>
</html>
